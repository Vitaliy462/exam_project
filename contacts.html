<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacts</title>
    <link rel="stylesheet" href="css/style_contacts.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <link
     rel="stylesheet"
     href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"
   />
   <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
</head>
<body>
    <!-- <div class="preloader">
        <div class="preloader_image"></div>
    </div> -->
    <header>
        <div class="container container_head">
            <div class="logo_block">
                <a href="index.html" class="logo"><img src="images/head_logo.png" alt=""></a>
                <h2>Фотограф Назарій Клюкай</h2>
            </div>
            <div class="navigation_block">
                <nav class="navigation">
                    <ul>
                        <li class="link_page_block">
                            <a href="index.html" class="link_page">Home</a>
                        </li>
                        <li class="link_page_block">
                            <a href="portfolio.html" class="link_page">Портфоліо</a>
                        </li>
                        <li class="link_page_block">
                            <a href="prices.html" class="link_page">Ціни</a>
                        </li>
                        <li class="link_page_block">
                            <a href="#" class="link_page">Контакти</a>
                        </li>
                    </ul>
                </nav>
                <div class="contacts_block" id="contacts">
                    <a class="contact_block" id="contact" href="#">
                            <img src="images/facebook_icon2.png" alt="" class="icon">
                    </a>
                    <a class="contact_block" id="contact" href="#">
                            <img src="images/instagram2_icon.png" alt="" class="icon">
                    </a>
                    <a class="contact_block" id="contact" href="#">
                            <img src="images/youtube2_icon.png" alt="" class="icon">
                    </a>
                </div>
            </div>
        </div>
    </header>
    <main>

        <div class="header_icon" id="header_icon" onclick="openHeader()"><img src="images/header_menu.png" alt=""></div>

        <div class="container container_2">
            <div class="photographer_info">
                <div class="photographer_info_page">
                    <div class="photographer_icon"><img src="images/photo_photographer.png" alt="" class="icon"></div>
                    <div class="photographer_contacts">
                        <div class="photographer_contact"><a href="#">Viber</a></div>
                        <div class="photographer_contact"><a href="#">Telegram</a></div>
                        <div class="photographer_contact"><a href="#">Зателефонувати</a></div>
                        
                    <div class="contact_icons">
                        <div class="contact_icon"><img src="images/premium-icon-instagram-3670125.png" alt=""></div>
                        <!-- <div class="contact_icon"><img src="images/premium-icon-viber-3670059.png" alt=""></div> -->
                        <div class="contact_icon"><img src="images/premium-icon-youtube-3670147.png" alt=""></div>
                        <div class="contact_icon"><img src="images/free-icon-facebook-145802.png" alt=""></div>
                        <!-- <div class="contact_icon"><img src="images/telegram.png" alt=""></div> -->
                    </div>
                    </div>
                </div>
                <div class="photographer_info_text">
                    <h1 class="name">ФОТОГРАФ НАЗАРІЙ КЛЮКАЙ</h1>
                    <div class="infos">
                        <p class="info">Привіт! Мене звати Назарій. Якщо Вас цікавить фотограф, то Ви
                        знайшли потрібну сторінку. Я займаюсь професійною фотозйомкою
                        весілля, випускних вечорів, фотографую для вінєтки, роблю красиві
                        кадри святкування день народження, захоплююсь портретними
                        фотосесіями за сценарієм.</p>
                        <p class="info">Я можу більше поспілкуватись з Вами про Ваше свято, запропонувати
                        варіанти, висловити своє професійне бачення, щоб Ваше свято
                        пройшло на ура.</p>
                        <p class="info">Якщо вам зручно, можете зателефонувати мені. Якщо ж вам краще у
                        текстовому форматі, можемо почати чат у вайбері, інстаграм чи
                        фейсбук. Радий бути Вам корисний.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container container_7">
            <div class="feedback_block">
                <h1 class="headline">Ви можете зв’язатися зі мною:</h1>
                <form action="mail.php" class="user_info" method="POST">
                    <input type="text" name="user_name" class="input name" id="user_name" placeholder="Ваше ім'я:">
                    <p class="error name">Введіть ще раз ваше ім'я</p>
                    <input type="tel" name="user_phone" class="input phone" id="user_phone" placeholder="Номер телефону:">
                    <p class="error phone">Введіть ще раз ваш телефон</p>
                    <input type="text" name="user_place" class="input place" id="user_place" placeholder="Місце зйомки">
                    <p class="error place">Введіть ще раз місце зйомки</p>
                    <input type="text" id="datepicker" name="user_date" class="input date" placeholder="Дата:"></p>
                    <p class="error date">Введіть дату зйомки</p>
                    <!-- <button type="submit" class="sendButton" onclick="sendInfo()">Записатися</button> -->
                    <button type="button" class="sendButton" onclick="sendInfo()">Записатися</button>
                    <p class="send_message">Дякую! Інформація була відправлена.</p>
                </form>
            </div>
        </div>
    </main>
    <footer>
        <div class="container container_footer">
            <div class="photographer_info">
                <h3 class="message">Художник, що малює мить 2022</h3>
                <p class="email"><b>Email:</b> klyukai.nazarko@gmail.com</p>
                <p class="phone_num"><b>Телефон:</b> +380973292182</p>
            </div>
            <div class="photographer_icon">
                <img src="images/head_logo.png" class="logo" alt="">
            </div>
            <div class="photographer_contacts">
                <h3 class="social_headline">Соціальні мережі</h3>
                <div class="social_icons">
                    <div class="icon"><img src="images/facebook_icon2.png" alt=""></div>
                    <div class="icon"><img src="images/instagram2_icon.png" alt=""></div>
                    <div class="icon"><img src="images/youtube2_icon.png" alt=""></div>
                </div>
            </div>
        </div>
    </footer>
    <script>

        // window.onload = function(){
        //     window.setTimeout(function(){
        //         document.body.classList.add("loaded")
        //     }, 2000)
        // }    


        const phoneInputField = document.querySelector("#user_phone");
        // const phoneInput = window.intlTelInput(phoneInputField, {
        //     utilsScript:
        //     "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        // });
        const phoneInput = window.intlTelInput(phoneInputField, {
            initialCountry: "auto",
            geoIpLookup: getIp,
            utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });

        function getIp(callback) {
            fetch('https://ipinfo.io/json?token=c606526f199f74', { headers: { 'Accept': 'application/json' }})
            .then((resp) => resp.json())
            .catch(() => {
                return {
                country: 'us',
                };
            })
            .then((resp) => callback(resp.country));
        }
        // const phoneInput = window.intlTelInput(phoneInputField, {
        //     initialCountry: "auto",
        //     geoIpLookup: getIp,
        //     utilsScript:
        //     "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        // });
        function openHeader(){
            var header = document.querySelector("header")
            if(header.classList.contains("selected")){
                header.classList.remove("selected")
            }else{
                header.classList.add("selected")
            }
        }
        function sendInfo(){
            let userName = document.getElementById("user_name").value
            let userPhone = document.getElementById("user_phone").value
            let userPlace = document.getElementById("user_place").value
            let userDate = document.getElementById("datepicker").value
            let isErrorData =false

            let checkName = /([а-яА-яa-zA-z]+\s)+([а-яА-яa-zA-z]+)/ig
            let checkPhoneNum = /^([+]?[0-9\s-\(\)]{3,25})*$/i;
            let checkPlace = /\w/
            
            document.querySelector('.send_message').style.opacity = 0;
            
            for (let i = 0; i < document.querySelectorAll('.error').length; i++) {
                document.querySelectorAll('.error')[i].style.opacity = 0
            }

            if(!checkName.test(userName)){
                document.querySelector('.error.name').style.opacity = 1;
                // document.querySelector('.send_message').style.opacity = 0;
            }

            if(!checkPhoneNum.test(userPhone) || userPhone.length == 0){
                document.querySelector('.error.phone').style.opacity = 1;
                // document.querySelector('.send_message').style.opacity = 0;
            }

            if(userPlace.length == 0){
                document.querySelector('.error.place').style.opacity = 1;
                // document.querySelector('.send_message').style.opacity = 0;
            }

            if(userDate.length == 0 ){
                document.querySelector('.error.date').style.opacity = 1;
                // document.querySelector('.send_message').style.opacity = 0;
            }
            for (let i = 0; i < document.querySelectorAll(".error").length; i++) {
                if(+window.getComputedStyle(document.querySelectorAll(".error")[i]).getPropertyValue("opacity") == 1){
                    isErrorData = true
                }
            }
            if(isErrorData){
                document.querySelector('.send_message').style.opacity = 0;
            }else{
                document.querySelector('.send_message').style.opacity = 1;
            }
        }
    </script>
</body>
</html>